#!/bin/bash
# Simple Permission Explanation

echo "üîç WHY PERMISSION ISSUES OCCUR"
echo "=============================="
echo ""
echo "THE PROBLEM:"
echo "-----------"
echo "1. Docker container runs Django as user 'app' (UID 1000)"
echo "2. Your host files are owned by user 'cavin' (UID 1000)" 
echo "3. Container creates files ‚Üí ownership mismatch"
echo "4. Django in container can't modify files ‚Üí Permission Denied"
echo ""
echo "FILE OWNERSHIP MISMATCH:"
echo "----------------------"
echo "Host:     cavin:cavin    (files)"
echo "Container: app:app      (attempts to modify files)"
echo "Result:   Permission denied"
echo ""
echo "WHY chmod -R 755 FIXES IT:"
echo "-------------------------"
echo "‚Ä¢ Makes files readable/writable by ALL users"
echo "‚Ä¢ Bypasses ownership restrictions"
echo "‚Ä¢ Works across container boundaries"
echo "‚Ä¢ Preserves all functionality"
echo ""
echo "NOT A ROOT ISSUE:"
echo "----------------"
echo "‚Ä¢ Your script runs as: cavin (NOT root)"
echo "‚Ä¢ Container runs as: app (NOT root)"
echo "‚Ä¢ Problem: Different users, same UID numbers"
echo "‚Ä¢ Solution: Universal permissions (755)"
echo ""
echo "FUTURE PREVENTION:"
echo "-----------------"
echo "‚Ä¢ Enhanced setup_platform.sh includes permission fixes"
echo "‚Ä¢ Runs automatically before migrations"
echo "‚Ä¢ No more manual intervention needed"